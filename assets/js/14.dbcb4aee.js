(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{379:function(s,t,a){"use strict";a.r(t);var e=a(45),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"docker安装nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker安装nginx"}},[s._v("#")]),s._v(" Docker安装nginx")]),s._v(" "),a("h2",{attrs:{id:"安装docker-compose"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装docker-compose"}},[s._v("#")]),s._v(" 安装docker-compose")]),s._v(" "),a("p",[s._v("由于我的服务器上已经有了docker-compose，我也不知道我怎么装的，跳过...")]),s._v(" "),a("h2",{attrs:{id:"使用docker-compose安装nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用docker-compose安装nginx"}},[s._v("#")]),s._v(" 使用docker-compose安装nginx")]),s._v(" "),a("h3",{attrs:{id:"_1、编写docker-compose-yml文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、编写docker-compose-yml文件"}},[s._v("#")]),s._v(" 1、编写docker-compose.yml文件")]),s._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'3.8'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用的docker-compose版本")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("services")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("web")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 自定义服务名称")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nginx "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定服务的镜像名称或镜像 ID。如果镜像在本地不存在，Compose 将会尝试拉取这个镜像。")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'80:80'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 映射端口，前面为本机端口，后面为容器暴露端口")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("volumes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" /opt/nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/usr/share/nginx/html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("ro "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 数据卷挂载，前面为本机目录，后面为容器地址，挂载后可以在本机目录编辑文件,:ro为容器只读文件，不可以处理文件")]),s._v("\n")])])]),a("h3",{attrs:{id:"_2、使用docker-compose安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、使用docker-compose安装"}},[s._v("#")]),s._v(" 2、使用docker-compose安装")]),s._v(" "),a("p",[s._v("因为我使用的都是绝对路径，所以在服务器上位置也不用太在意，安装完后就可以删除，随便放了一个目录。")]),s._v(" "),a("p",[s._v("在目录路径下使用命令安装文件")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ docker-compose up -d\n")])])]),a("p",[s._v("[-d]的意思是在后台运行，如果不需要可以去掉。")]),s._v(" "),a("p",[s._v("一般情况下，在安装完成后输入地址能访问，但是我挂载目录没有放文件所以直接403，也懒得搞了，能知道怎么弄就行")])])}),[],!1,null,null,null);t.default=n.exports}}]);