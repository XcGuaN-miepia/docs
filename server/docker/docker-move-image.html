<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Docker迁移镜像 | 咩屁啊的个人文档</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="随心所欲">
    
    <link rel="preload" href="/docs/assets/css/0.styles.52bb2005.css" as="style"><link rel="preload" href="/docs/assets/js/app.692687db.js" as="script"><link rel="preload" href="/docs/assets/js/2.818809dd.js" as="script"><link rel="preload" href="/docs/assets/js/7.7b2acb47.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.c2cf2053.js"><link rel="prefetch" href="/docs/assets/js/11.d70988c0.js"><link rel="prefetch" href="/docs/assets/js/12.084baa83.js"><link rel="prefetch" href="/docs/assets/js/13.cac703a1.js"><link rel="prefetch" href="/docs/assets/js/14.e968f719.js"><link rel="prefetch" href="/docs/assets/js/15.d421b732.js"><link rel="prefetch" href="/docs/assets/js/16.942ec7f5.js"><link rel="prefetch" href="/docs/assets/js/17.a060f44e.js"><link rel="prefetch" href="/docs/assets/js/18.c2767a3f.js"><link rel="prefetch" href="/docs/assets/js/19.1c9559a2.js"><link rel="prefetch" href="/docs/assets/js/20.9134981f.js"><link rel="prefetch" href="/docs/assets/js/21.fcaf3e2a.js"><link rel="prefetch" href="/docs/assets/js/22.c5b78947.js"><link rel="prefetch" href="/docs/assets/js/3.36e13da5.js"><link rel="prefetch" href="/docs/assets/js/4.62957b5c.js"><link rel="prefetch" href="/docs/assets/js/5.4d7e8ade.js"><link rel="prefetch" href="/docs/assets/js/6.cdafc2d5.js"><link rel="prefetch" href="/docs/assets/js/8.0688a0fe.js"><link rel="prefetch" href="/docs/assets/js/9.c92472e9.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.52bb2005.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">咩屁啊的个人文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/docs/vue/directive/highlight.html" class="nav-link">
  vue
</a></div><div class="nav-item"><a href="/docs/node/git.html" class="nav-link">
  node
</a></div><div class="nav-item"><a href="/docs/server/docker/docker-install.html" class="nav-link">
  服务器
</a></div><div class="nav-item"><a href="https://github.com/XcGuaN-miepia/docs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/docs/vue/directive/highlight.html" class="nav-link">
  vue
</a></div><div class="nav-item"><a href="/docs/node/git.html" class="nav-link">
  node
</a></div><div class="nav-item"><a href="/docs/server/docker/docker-install.html" class="nav-link">
  服务器
</a></div><div class="nav-item"><a href="https://github.com/XcGuaN-miepia/docs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>docker</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/server/docker/docker-install.html" class="sidebar-link">docker 安装</a></li><li><a href="/docs/server/docker/docker-install-jenkins.html" class="sidebar-link">Docker安装Jenkins</a></li><li><a href="/docs/server/docker/docker-install-nginx.html" class="sidebar-link">Docker安装nginx</a></li><li><a href="/docs/server/docker/docker-move-image.html" aria-current="page" class="active sidebar-link">Docker迁移镜像</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/server/docker/docker-move-image.html#docker-import-export" class="sidebar-link">Docker Import Export</a></li><li class="sidebar-sub-header"><a href="/docs/server/docker/docker-move-image.html#docker-load-save" class="sidebar-link">Docker Load Save</a></li><li class="sidebar-sub-header"><a href="/docs/server/docker/docker-move-image.html#运行镜像" class="sidebar-link">运行镜像</a></li><li class="sidebar-sub-header"><a href="/docs/server/docker/docker-move-image.html#save和export区别" class="sidebar-link">Save和Export区别</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>nginx</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/docs/server/server-no-password.html" class="sidebar-link">服务器命令行免密码登录</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="docker迁移镜像"><a href="#docker迁移镜像" class="header-anchor">#</a> Docker迁移镜像</h1> <h2 id="docker-import-export"><a href="#docker-import-export" class="header-anchor">#</a> Docker Import Export</h2> <h3 id="command"><a href="#command" class="header-anchor">#</a> COMMAND</h3> <p>在导出之前，需要先查看之前容器的<code>COMMAND</code></p> <p>这里我用最新搭的<code>nginx</code>做例子</p> <p>需要注意的是，直接使用<code>docker ps</code>查看<code>COMMAND</code>会出现折叠情况</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABKAAAAAgCAYAAAAlpgB3AAABSGlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8rAwSDOwMmgymCWmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsisHwEKTiuubjPTPLvS6boloyGmehTAlZJanAyk/wBxenJBUQkDA2MKkK1cXlIAYncA2SJFQEcB2XNA7HQIewOInQRhHwGrCQlyBrJvANkCyRmJQDMYXwDZOklI4ulIbKi9IMDr4urjoxBqZGJo6RFMwL0kg5LUihIQ7ZxfUFmUmZ5RouAIDKVUBc+8ZD0dBSMDI2AIgcIcovpzEDgsGcX2IcTylzAwWHxjYGCeiBBLmsLAsL2NgUHiFkJMZR4DA38LA8O2QwWJRYlwBzB+YylOMzaCsHnsGRhY7/7//1mDgYF9IgPD34n///9e/P//38VA828zMByoBAAxYWBononeKgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAEoKADAAQAAAABAAAAIAAAAAA+alwnAAAi80lEQVR4Ae2dCfxdwxXHJwiVEJSkliCxJoqPLWIXQWOLhuAjiK3aimjUroi1SGliaYOPpWhL0dLYgw8ioYmdSMSSaITa19j3/r/Tz3m97/1nzr3vvvd///fe/5zP5727zJ0zM785d+bMmTNzO/Xs2fN7Z2QIGAKGgCFgCBgChoAhYAgYAoaAIWAIGAKGgCFgCLQRAgu0EV9jawgYAoaAIWAIGAKGgCFgCBgChoAhYAgYAoaAIWAIeASKDFALLbSQ6927t+vWrVsreH7wgx+4Xr16uQUXXLBVmN0wBKqFQOfOnb0MLrbYYtViaXzqBAFrX+qkIiwbZSOgyW7ZzCxCh0AAfYn+rB6onvJSD3g0Uh7aSvc2mWgkKbC8GgKGQEdGoBnb64IBatiwYe65555zkydPdo899pg76KCDCnX961//2s2aNctNmTLFzZgxw+20004+bJdddnGvvPKKW2uttfw1HeW8efPcyiuv7E4//XT36quvtvrtscceBb6HHHKID+/fv3/hHid33HFHUbwxY8b4cC09Hpg+fXpRvNmzZ/t4ffr0Kbr/8MMPuwEDBviwtL9YXrbddtsCT7C5/vrr3WqrrZbGrmnCY7iMHj3avfjii65r166+rOuvv77HaciQIYWyx+r9wAMP9HKGDD7++ONun332KcSJ1W3hATupawTytC+aLGlhAkRIzrQ2pKO/04KbHYsRiMluWr+S1maF5DOt34zxNNktrrP2vBo+fLh79NFHvb6EbrD33nv77KTVLQ+VKxOjRo1yEyZMKCrunDlzCvpNLC9FEeyi3RDo0aNHQY9EX546darbcsstC/mJ6d5a25MmZyYTBXjtxBAwBAyBzAho4wdhEurD08YrMb0Ons3cXnsD1AorrODOOuss98wzz7iRI0d6xYlOrHv37m6DDTZwRx99tJs0aZI78sgj3dy5c93YsWPdkksu6ZgVXmCBBdzJJ5/ssee8U6dO/t4111zjgTv33HN92C9/+Ut//eCDD/pr/nbeeWd/LgYtCTjuuON8frjGKHHppZf6IC09HsA764orrvDpUGnEhYgHHXrooe6www5zb7/9trvsssvcwgsv7O9rf1peiEcat9xyi8fpuuuuy8RTS69RwjRcFl10UTdo0CBfFDE8IRtCoXrH8+60007zijt19Mgjj7izzz7bLbHEEj5arG6Fpx3rF4FK2peYLPFOx8IEiZCcaW2ItBMd9Z0W3Oz4fwQ02RV5ifUraW1WSD7T+s0YT8mLye7/6649zhZZZBFH38hkHZNt999/vzvjjDMc99PqlvyWKxPIA78kIQv8tLwkn7fz9kNA9KKTTjrJYUx855133FVXXeWYzE3Tvcl1qO3R5Mxkov3q2lI2BAyBxkaAfjVm85CShfpw4mnjlZhe1+zttbfMbLLJJt5V/JhjjvEeTQ899JCfhdloo40cMy1ffvmlGzFihPviiy8cXkW33XabI0yIGZsBLR5FzPoJvfzyy44fcaAHHnjAff755xLsfvSjH7kNN9zQGxp23HFHd+qppxbCZs6c6RZffHF//a9//asoHjdD6UlkLIkYy0I0bdo0995777k333zT3Xzzza5v377e6BZ6Vu5pefnmm2/cfffd53933323+/Of/+wGDhzoJk6cKNGb9qjhQqExPDEzi8U4SbF633TTTb0izYwfBkK88O666y639tprOzzWIK1uk2nYeX0hUGn7EpMlShkLi8mZIBNrQzryOy3Y2PH/CGiyi8cCpPUrsTYrJp9p/SbpxXia7IJO+9Lqq6/uJ+fQkZhEYcJur7328gah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" alt="image1"></p> <div class="language-shell extra-class"><pre class="language-shell"><code>CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                                               NAMES
8f9a21901001        nginx               <span class="token string">&quot;/docker-entrypoint.…&quot;</span>   <span class="token number">15</span> seconds ago      Up <span class="token number">14</span> seconds       <span class="token number">0.0</span>.0.0:80-<span class="token operator">&gt;</span><span class="token number">80</span>/tcp                                  opt_web_1
</code></pre></div><p>所以这时候我们需要在后面加<code>--no-trunc</code>来保证没有折叠</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ docker <span class="token function">ps</span> --no-trunc
</code></pre></div><p><img src="/docs/assets/img/image2.2478e97a.png" alt="image2"></p> <div class="language-shell extra-class"><pre class="language-shell"><code>CONTAINER ID                                                       IMAGE               COMMAND                                          CREATED             STATUS              PORTS                                               NAMES
8f9a21901001b7a5874d0e2ae2b0ea574b54e7e226ca62e55b40980284bb4d30   nginx               <span class="token string">&quot;/docker-entrypoint.sh nginx -g 'daemon off;'&quot;</span>   <span class="token number">30</span> minutes ago      Up <span class="token number">30</span> minutes       <span class="token number">0.0</span>.0.0:80-<span class="token operator">&gt;</span><span class="token number">80</span>/tcp                                  opt_web_1
</code></pre></div><p><code>&quot;/docker-entrypoint.sh nginx -g 'daemon off;'&quot;</code>就是我们需要的<code>COMMAND</code>参数</p> <h3 id="export"><a href="#export" class="header-anchor">#</a> Export</h3> <p>查询完参数我们就可以把容器打包成镜像了</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ docker <span class="token builtin class-name">export</span> 8f9a21901001 <span class="token operator">&gt;</span> nginx.tar <span class="token comment"># 8f9a21901001是容器ID，nginx.tar是打包文件名称，可以是路径</span>
</code></pre></div><p>因为我没有指定路径，所以完成后在当前目录中生成<code>nginx.tar</code>文件</p> <h3 id="import"><a href="#import" class="header-anchor">#</a> Import</h3> <p>导入的写法目前我看到了两种</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">cat</span> nginx.tar <span class="token operator">|</span> docker <span class="token function">import</span> - nginx-web:0.1 <span class="token comment"># cat [文件] | docker import - [新镜像名称]:[新镜像TAG]</span>
$ <span class="token comment"># 或者</span>
$ docker <span class="token function">import</span> nginx.tar nginx-web:0.1 <span class="token comment"># docker import [文件] [新镜像名称]:[新镜像TAG]</span>
</code></pre></div><p>导入后查看镜像会发现镜像已经导入了</p> <div class="language-shell extra-class"><pre class="language-shell"><code>REPOSITORY                     TAG                 IMAGE ID            CREATED             SIZE
nginx-web                      <span class="token number">0.1</span>                 9b947e4f51fd        <span class="token number">8</span> minutes ago       132MB
</code></pre></div><h2 id="docker-load-save"><a href="#docker-load-save" class="header-anchor">#</a> Docker Load Save</h2> <p>可以使用<code>commit</code>命令将现在已经存在的容器打包成镜像</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ docker commit 2068543cf2f2 nginx-web2 <span class="token comment"># docker commit [容器ID] [镜像名称]</span>
</code></pre></div><p>再使用<code>docker images</code>查看镜像列表</p> <h3 id="save"><a href="#save" class="header-anchor">#</a> Save</h3> <p>将镜像保存下来</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ docker save nginx-web2 <span class="token operator">&gt;</span> nginx-web2.tar
</code></pre></div><h3 id="load"><a href="#load" class="header-anchor">#</a> Load</h3> <p>将镜像重新加载</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ docker load <span class="token operator">&lt;</span> nginx-web2.tar
</code></pre></div><h2 id="运行镜像"><a href="#运行镜像" class="header-anchor">#</a> 运行镜像</h2> <p>因为只是一个镜像，之前设置的端口，挂载目录还需要重新设置</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ docker run <span class="token punctuation">\</span>
  -d <span class="token punctuation">\</span> <span class="token comment"># 后台启动</span>
  -p <span class="token number">80</span>:80 <span class="token punctuation">\</span> <span class="token comment"># 端口映射</span>
  -v /opt/nginx-html:/usr/share/nginx/html:ro <span class="token punctuation">\</span> <span class="token comment"># 挂载数据卷</span>
  nginx-web:0.1 <span class="token punctuation">\</span> <span class="token comment"># 镜像名称:镜像TAG</span>
  /docker-entrypoint.sh nginx -g <span class="token string">'daemon off;'</span> <span class="token comment"># 启动参数，必填，为之前容器的COMMAND</span>
</code></pre></div><h2 id="save和export区别"><a href="#save和export区别" class="header-anchor">#</a> Save和Export区别</h2> <ol><li>export导出的镜像文件大小小于save保存的镜像</li> <li>export 导出（import导入）是根据容器拿到的镜像，再导入时会丢失镜像所有的历史，所以无法进行回滚操作（docker tag <LAYER ID=""><IMAGE NAME="">）；而save保存（load加载）的镜像，没有丢失镜像的历史，可以回滚到之前的层（layer）。</IMAGE></LAYER></li></ol></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">8/24/2021, 3:35:53 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/server/docker/docker-install-nginx.html" class="prev">
        Docker安装nginx
      </a></span> <span class="next"><a href="/docs/server/nginx/nginx-install.html">
        Nginx安装
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.692687db.js" defer></script><script src="/docs/assets/js/2.818809dd.js" defer></script><script src="/docs/assets/js/7.7b2acb47.js" defer></script>
  </body>
</html>
